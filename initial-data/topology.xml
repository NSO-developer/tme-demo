<config xmlns="http://tail-f.com/ns/config/1.0">
  <topology xmlns="http://com/example/l3vpn">
    <role>
      <role>ce</role>
      <device>ce0</device>
      <device>ce1</device>
      <device>ce2</device>
      <device>ce3</device>
      <device>ce4</device>
      <device>ce5</device>
      <device>ce6</device>
      <device>ce7</device>
    </role>
    <role>
      <role>pe</role>
      <device>pe0</device>
      <device>pe1</device>
      <device>pe2</device>
      <device>pe3</device>
    </role>
    <role>
      <role>p</role>
      <device>p0</device>
      <device>p1</device>
      <device>p2</device>
      <device>p3</device>
    </role>
    <connection>
      <name>c0</name>
      <endpoint-1>
        <device>ce0</device>
        <interface>GigabitEthernet0/8</interface>
        <ip-address>192.168.1.1/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>pe0</device>
        <interface>GigabitEthernet0/0/0/3</interface>
        <ip-address>192.168.1.2/30</ip-address>
      </endpoint-2>
      <link-vlan>88</link-vlan>
    </connection>
    <connection>
      <name>c1</name>
      <endpoint-1>
        <device>ce1</device>
        <interface>GigabitEthernet0/1</interface>
        <ip-address>192.168.1.5/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>pe0</device>
        <interface>GigabitEthernet0/0/0/3</interface>
        <ip-address>192.168.1.6/30</ip-address>
      </endpoint-2>
      <link-vlan>77</link-vlan>
    </connection>
    <connection>
      <name>c2</name>
      <endpoint-1>
        <device>ce2</device>
        <interface>GigabitEthernet0/1</interface>
        <ip-address>192.168.1.9/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>pe0</device>
        <interface>GigabitEthernet0/0/0/3</interface>
        <ip-address>192.168.1.10/30</ip-address>
      </endpoint-2>
      <link-vlan>99</link-vlan>
    </connection>
    <connection>
      <name>c3</name>
      <endpoint-1>
        <device>ce3</device>
        <interface>GigabitEthernet0/2</interface>
        <ip-address>192.168.1.13/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>pe1</device>
        <interface>GigabitEthernet0/0/0/5</interface>
        <ip-address>192.168.1.14/30</ip-address>
      </endpoint-2>
      <link-vlan>100</link-vlan>
    </connection>
    <connection>
      <name>c4</name>
      <endpoint-1>
        <device>ce4</device>
        <interface>GigabitEthernet0/1</interface>
        <ip-address>192.168.1.17/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>pe2</device>
        <interface>xe-0/0/2</interface>
        <ip-address>192.168.1.18/30</ip-address>
      </endpoint-2>
      <link-vlan>101</link-vlan>
    </connection>
    <connection>
      <name>c5</name>
      <endpoint-1>
        <device>pe2</device>
        <interface>xe-0/0/2</interface>
        <ip-address>192.168.1.22/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>ce5</device>
        <interface>GigabitEthernet0/1</interface>
        <ip-address>192.168.1.21/30</ip-address>
      </endpoint-2>
       <link-vlan>102</link-vlan>
    </connection>
    <connection>
      <name>c6</name>
      <endpoint-1>
        <device>pe3</device>
        <interface>Port1/1/2</interface>
        <ip-address>192.168.1.34/30</ip-address>
      </endpoint-1>
      <endpoint-2>
        <device>ce6</device>
        <interface>GigabitEthernet0/1</interface>
        <ip-address>192.168.1.33/30</ip-address>
      </endpoint-2>
       <link-vlan>105</link-vlan>
    </connection>

    <connection>
      <name>pe-link-1</name>
      <endpoint-1>
        <device>pe0</device>
        <interface>GigabitEthernet0/0/0/10</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p1</device>
        <interface>TenGig0/0/2</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>pe-link-2</name>
      <endpoint-1>
        <device>pe1</device>
        <interface>GigabitEthernet0/0/0/10</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p0</device>
        <interface>TenGig1/0/2</interface>
      </endpoint-2>
     </connection>
    <connection>
      <name>pe-link-3</name>
      <endpoint-1>
        <device>p3</device>
        <interface>TenGig1/0/2</interface>
      </endpoint-1>
      <endpoint-2>
        <device>pe2</device>
        <interface>xe-0/0/0</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>pe-link-4</name>
      <endpoint-1>
        <device>p2</device>
        <interface>TenGig0/0/2</interface>
      </endpoint-1>
      <endpoint-2>
        <device>pe3</device>
        <interface>Port3/1/1</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>dci-link-1</name>
      <endpoint-1>
        <device>dci0</device>
        <interface>GigabitEthernet0/0/0/10</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p0</device>
        <interface>TenGig0/0/2</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>dci-link-2</name>
      <endpoint-1>
        <device>dci1</device>
        <interface>GigabitEthernet0/0/0/10</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p3</device>
        <interface>TenGig0/0/2</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>dci-link-3</name>
      <endpoint-1>
        <device>dci2</device>
        <interface>GigabitEthernet0/0/0/10</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p0</device>
        <interface>TenGig0/0/2</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>dci-link-4</name>
      <endpoint-1>
        <device>dci3</device>
        <interface>GigabitEthernet0/0/0/10</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p3</device>
        <interface>TenGig0/0/2</interface>
      </endpoint-2>
    </connection>

    <connection>
      <name>core-link-1</name>
      <endpoint-1>
        <device>p0</device>
        <interface>TenGig1/0/1</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p1</device>
        <interface>TenGig0/0/1</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>core-link-2</name>
      <endpoint-1>
        <device>p1</device>
        <interface>TenGig0/0/3</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p2</device>
        <interface>TenGig0/0/1</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>core-link-3</name>
      <endpoint-1>
        <device>p0</device>
        <interface>TenGig1/0/3</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p3</device>
        <interface>TenGig1/0/3</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>core-link-4</name>
      <endpoint-1>
        <device>p2</device>
        <interface>TenGig0/0/3</interface>
      </endpoint-1>
      <endpoint-2>
        <device>p3</device>
        <interface>TenGig1/0/1</interface>
      </endpoint-2>
    </connection>

    <connection>
      <name>sw0-tor0</name>
      <endpoint-1>
        <device>sw0</device>
        <interface>GigabitEthernet0/23</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor0</device>
        <interface>Ethernet1/23</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw0-tor1</name>
      <endpoint-1>
        <device>sw0</device>
        <interface>GigabitEthernet0/24</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor1</device>
        <interface>Ethernet1/23</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw1-tor0</name>
      <endpoint-1>
        <device>sw1</device>
        <interface>GigabitEthernet0/23</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor0</device>
        <interface>Ethernet1/24</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw1-tor1</name>
      <endpoint-1>
        <device>sw1</device>
        <interface>GigabitEthernet0/24</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor1</device>
        <interface>Ethernet1/24</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw2-tor0</name>
      <endpoint-1>
        <device>sw2</device>
        <interface>GigabitEthernet0/11</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor0</device>
        <interface>Ethernet1/22</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw2-tor1</name>
      <endpoint-1>
        <device>sw2</device>
        <interface>GigabitEthernet0/12</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor1</device>
        <interface>Ethernet1/22</interface>
      </endpoint-2>
    </connection>

    <connection>
      <name>sw3-tor2</name>
      <endpoint-1>
        <device>sw3</device>
        <interface>GigabitEthernet0/23</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor2</device>
        <interface>Ethernet1/23</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw3-tor3</name>
      <endpoint-1>
        <device>sw3</device>
        <interface>GigabitEthernet0/24</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor3</device>
        <interface>Ethernet1/23</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw4-tor2</name>
      <endpoint-1>
        <device>sw4</device>
        <interface>GigabitEthernet0/23</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor2</device>
        <interface>Ethernet1/24</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw4-tor3</name>
      <endpoint-1>
        <device>sw4</device>
        <interface>GigabitEthernet0/24</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor3</device>
        <interface>Ethernet1/24</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw5-tor2</name>
      <endpoint-1>
        <device>sw5</device>
        <interface>GigabitEthernet0/11</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor2</device>
        <interface>Ethernet1/22</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>sw5-tor3</name>
      <endpoint-1>
        <device>sw5</device>
        <interface>GigabitEthernet0/12</interface>
      </endpoint-1>
      <endpoint-2>
        <device>tor3</device>
        <interface>Ethernet1/22</interface>
      </endpoint-2>
    </connection>

    <connection>
      <name>tor0-dci0</name>
      <endpoint-1>
        <device>tor0</device>
        <interface>Ethernet1/20</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci0</device>
        <interface>TenGigE0/3/0/5</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>tor0-dci1</name>
      <endpoint-1>
        <device>tor0</device>
        <interface>Ethernet1/21</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci1</device>
        <interface>TenGigE0/3/0/5</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>tor1-dci0</name>
      <endpoint-1>
        <device>tor1</device>
        <interface>Ethernet1/20</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci0</device>
        <interface>TenGigE0/3/0/6</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>tor1-dci1</name>
      <endpoint-1>
        <device>tor1</device>
        <interface>Ethernet1/21</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci1</device>
        <interface>TenGigE0/3/0/6</interface>
      </endpoint-2>
    </connection>

    <connection>
      <name>tor2-dci2</name>
      <endpoint-1>
        <device>tor2</device>
        <interface>Ethernet1/20</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci2</device>
        <interface>TenGigE0/3/0/1</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>tor2-dci3</name>
      <endpoint-1>
        <device>tor2</device>
        <interface>Ethernet1/21</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci3</device>
        <interface>TenGigE0/3/0/4</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>tor3-dci2</name>
      <endpoint-1>
        <device>tor3</device>
        <interface>Ethernet1/20</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci2</device>
        <interface>TenGigE0/3/0/2</interface>
      </endpoint-2>
    </connection>
    <connection>
      <name>tor3-dci3</name>
      <endpoint-1>
        <device>tor3</device>
        <interface>Ethernet1/21</interface>
      </endpoint-1>
      <endpoint-2>
        <device>dci3</device>
        <interface>TenGigE0/3/0/5</interface>
      </endpoint-2>
    </connection>
  </topology>
</config>
